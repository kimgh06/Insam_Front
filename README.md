# Insam: 스마트 화분 프로젝트

**스마트 화분 프로젝트**는 웹 콘솔을 통해 화분 환경을 제어할 수 있도록 개발되었습니다.  
- [프로젝트 웹사이트](https://insam.vercel.app/)  
- [GitHub 리포지토리](https://github.com/kody-gsm/Insam_Front)  

---

## 📖 프로젝트 개요
일반 소비자를 대상으로 스마트 팜 기술을 제공하면서도, 더 나은 성능과 저렴한 가격을 목표로 개발한 프로젝트입니다.  
기존 스마트 팜은 높은 가격에도 불구하고 일반 화분보다 성능이 떨어지는 경우가 많았습니다. 이를 개선하기 위해 스마트 화분을 제작하였습니다.

---

## 🎯 목표
- **저렴한 가격과 고성능 제공:**  
  기존 스마트 팜(약 15만 원) 대비 더 낮은 가격(약 7만 원)으로 뛰어난 성능 제공.
- **편리한 사용자 인터페이스:**  
  간단하고 직관적인 UI/UX 설계로 사용성 향상.
- **타임랩스 기능 지원:**  
  특정 시간대에 화분의 사진을 수집해 시간 경과를 한눈에 확인 가능.
- **화분과 지속적인 통신:**  
  온습도, 물의 양 등 상태를 모니터링하고 클라이언트에서 제어 가능.

---

## 🛠️ 사용 기술
- **프론트엔드 프레임워크:** Next.js  
- **상태 관리:** Zustand  
- **통신 프로토콜:** WebSocket  
- **언어:** TypeScript  

---

## 🧑‍💻 주요 기능 및 구현 경험

### 1. **로그인 보호 및 접근 제어**
- Next.js의 **미들웨어**를 활용해 비로그인 상태에서 콘솔 접근 시 랜딩 페이지로 리다이렉트.
- 쿠키를 활용해 로그인 상태를 판단하여 깜빡임 현상 제거.

### 2. **상태 관리 및 데이터 처리**
- Zustand로 **access token**을 관리하며, 로컬 스토리지 대신 메모리를 활용해 보안성 강화.
- 다양한 컴포넌트에서 사용하는 공통 상태를 효율적으로 관리.

### 3. **화분과의 실시간 통신**
- **WebSocket**을 활용해 화분의 온습도, 물의 양 등의 상태 값을 실시간으로 가져옴.
- 클라이언트에서 화분을 직접 제어할 수 있도록 UI/UX 설계.

### 4. **TypeScript 활용**
- 상태 관리와 컴포넌트 개발 시 **타입 안전성**을 보장하여 코드 가독성과 개발 효율성 향상.

---

## 🛠️ 문제 해결

### 문제 1: WebSocket에서 사용자 검증 문제
- **문제:** WebSocket 연결 시 헤더를 사용할 수 없어 사용자 검증에 어려움 발생.
- **해결:**  
  - 쿼리 스트링 대신 WebSocket 연결 후 토큰을 메시지로 전송하여 검증.  
  - 잘못된 토큰일 경우 연결을 자동으로 종료하도록 설계.

### 문제 2: 비로그인 상태에서 깜빡임 현상
- **문제:** 비로그인 상태에서 콘솔 접근 시 UI 깜빡임 발생.
- **해결:**  
  - 로컬 스토리지 기반 상태 판단 방식을 **쿠키 기반**으로 변경.  
  - Next.js 미들웨어를 통해 쿠키를 활용하여 로그인 여부를 판단 후 리다이렉트 처리.

---

## 📸 주요 기능 예시

- **콘솔 UI 및 화분 상태 모니터링**
  - 온습도, 물의 양 등의 상태 값 실시간 확인
  - 화분 조작을 위한 직관적인 콘솔 제공

- **타임랩스 기능**
  - 시간대별 화분 사진 자동 수집 및 재생

---

## 🚀 기대 효과
- 저렴한 가격으로 일반 소비자도 쉽게 스마트 팜 기술을 활용 가능.
- 사용자 친화적인 UI와 실시간 상태 확인으로 화분 관리의 편의성 향상.
- 학습한 기술 스택을 활용한 다양한 확장 가능성 확보.
